<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Estilos -->
  <link rel="stylesheet" href="./assets/css/main.css" />
  <link rel="stylesheet" href="./assets/css/sidebar.css" />
  <link rel="stylesheet" href="./assets/css/ProgressBar.css" />
  <link rel="stylesheet" href="./assets/css/ex1.css" />

  <!-- Scripts -->
  <script src="./assets/js/sidebar.js" defer></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
  
  <!-- Contenedor del botón de retroceso y sidebar (cargado dinámicamente) -->
  <div id="sidebarContainer"></div>

  <!-- Reproductor de audio (cargado dinámicamente) -->
  <div id="audioContainer"></div>

  <!-- Logo inferior -->
  <div class="logo-container">
    <img src="../assets/images/logo_color.png" alt="Logo AngloAmerican" class="logo" />
  </div>

  <!-- Título principal -->
  <header>
    <h1 class="titulo-epp">
      <span class="gradient-text2">Inspección Pre Operativa</span>
    </h1>
  </header>

  <!-- Contenido principal -->
  <main class="grid">

    <!-- Objetivo -->
    <div class="card">
      <h2>3.1. Objetivo</h2>
      <p>
        Desarrollar la capacidad para realizar inspecciones técnicas sistemáticas antes de la operación del montacargas, evaluando tanto las condiciones del equipo (motor, frenos, luces, niveles de fluidos, sistema hidráulico) como las características del área de trabajo, promoviendo una cultura preventiva en el entorno laboral.
      </p>
    </div>

    <!-- Área de trabajo -->
    <div class="card">
      <h2>3.2. Inspección del Área de Trabajo</h2>
      <ul>
        <li>Desniveles y agujeros</li>
        <li>Baches, obstáculos y escombros</li>
        <li>Superficies en pendiente</li>
        <li>Superficies inestables o resbaladizas</li>
        <li>Obstáculos elevados o cables</li>
        <li>Lugares peligrosos</li>
        <li>Superficies sin estabilidad</li>
        <li>Condiciones meteorológicas</li>
        <li>Personal no autorizado</li>
      </ul>
    </div>

    <!-- Importancia de la inspección -->
    <div class="card">
      <h2>3.3. Importancia de la Inspección</h2>
      <p>La inspección debe realizarse:</p>
      <ul>
        <li>Al inicio del turno</li>
        <li>Al finalizar el turno</li>
        <li>Cuando se detiene la máquina</li>
      </ul>
      <p>Además, debe:</p>
      <ul>
        <li>Tener un punto de inicio</li>
        <li>Seguir un orden lógico</li>
        <li>Ser una rutina diaria</li>
      </ul>
    </div>

  </main>

  <!-- Botón de continuar -->
  <button class="start-button" onclick="goToNextPage()">
    Continuar <span class="arrow">❯</span>
  </button>

  <!-- Scripts principales -->
  <script src="./assets/js/SCORM.js"></script>
  <script src="./assets/js/M1_pagina2.js" defer></script>

  <script>
    // Funciones de navegación
    function goHome() {
      window.location.href = 'ex.html';
    }
    function backPage() {
      window.location.href = 'ex.html';
    }
    function goToNextPage() {
      window.location.href = 'ex2.html';
    }

    // SCORM: iniciar y cargar progreso
    ScormManager.init();
    ScormManager.guardarProgreso("ex1.html");

    document.addEventListener("DOMContentLoaded", () => {
      const progreso = ScormManager.cargarProgreso();
      const porcentaje = progreso.score ? parseInt(progreso.score) : 0;
      document.getElementById("progreso-barra").style.width = porcentaje + "%";
      document.getElementById("progreso-texto").textContent = porcentaje + "%";
    });
  </script>

  <!-- Carga dinámica de componentes -->
  <script>
    // Sidebar
    fetch('./assets/componentes/sidebar.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('sidebarContainer').innerHTML = html;
      });

    // Reproductor de audio
    fetch('./assets/componentes/audioPlayer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('audioContainer').innerHTML = html;
      });
  </script>

</body>
</html>
